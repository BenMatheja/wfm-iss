<!DOCTYPE HTML>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:f="http://java.sun.com/jsf/core">
 
<f:view>
<f:metadata>
 
  <f:event type="preRenderView" listener="#{camundaTaskForm.startTaskForm()}" />
</f:metadata>
<h:head>
  <title>Evaluate Appointment</title>
</h:head>
<h:body>
		
		<h2>Customer: #{evaluateAppointmentController.customerEntity.name}</h2>
		
		<h2>Project Title: #{evaluateAppointmentController.projectEntity.title}</h2>
		<h:form>
			<h:panelGrid columns="2" columnClasses="form-label, form-label">
				<h:outputLabel value="Project start:" />
				<h:outputText value="#{proposeAppointmentController.projectEntity.projectStart}">
			 		<f:convertDateTime pattern="yyyy-MM-dd"/>
		 		</h:outputText>
			 	<h:outputLabel value="Project end" />
			 	<h:outputText value="#{proposeAppointmentController.projectEntity.projectEnd}">
			 		<f:convertDateTime pattern="yyyy-MM-dd"/>
			 	</h:outputText>
				<ui:repeat
					value="#{evaluateAppointmentController.projectEntity.employee}"
					var="emp">
					<h:outputText value="#{emp.firstName}" />
					<h:outputText value="#{emp.lastName}" />
				</ui:repeat>
			</h:panelGrid>
		</h:form>	
		 
		 <h2>Appointment</h2>   
		 <h:form>
		 <h:panelGrid columns="2" columnClasses="form-label, form-label">
		  	<h:outputLabel value="Appointment title:" />
		  	<h:outputText value="#{evaluateAppointmentController.appointmentEntity.title}" />
		   	<h:outputLabel value="Next appointment:" />
		  	<h:outputText value="#{evaluateAppointmentController.appointmentEntity.date}" >
		  			<f:convertDateTime pattern="yyyy-MM-dd"/>
  			</h:outputText>		  	
		 </h:panelGrid>
  	</h:form>	
  	
  	<h:form id="submitForm" columns="2" columnClasses="form-label,form-label" footer-Class="form-footer">
	<h:outputLabel value="Approve Appointment?" /> 
	   	<h:commandButton id="confirmButton" value="Approve appointment" action="#{evaluateAppointmentController.confirmRequest()}" />    
	   	<h:commandButton id="declineButton" value="Reject appointment" action="#{evaluateAppointmentController.declineRequest()}" />
	</h:form>		
</h:body>
</f:view>
</html>